[gd_scene load_steps=10 format=3 uid="uid://cktgqcvf538ar"]

[ext_resource type="Script" uid="uid://cerba5raajrve" path="res://car/car.gd" id="1_2gitb"]
[ext_resource type="PackedScene" uid="uid://cvn5pkt2owfc8" path="res://car/wheel.tscn" id="2_dxy33"]
[ext_resource type="Resource" uid="uid://cix687dolssn8" path="res://car/bodies/stats/shopping_cart.tres" id="2_xhmyn"]
[ext_resource type="Resource" uid="uid://baefbct8mflae" path="res://car/wheels/gear.tres" id="3_xhmyn"]
[ext_resource type="AudioStream" uid="uid://dd2j373pxmxyx" path="res://car/sounds/engine.wav" id="4_jpe8o"]
[ext_resource type="Script" uid="uid://c4sl7b5kg0au0" path="res://car/sounds/engine.gd" id="5_h3fet"]
[ext_resource type="AudioStream" uid="uid://dkce7qxlw2sdn" path="res://car/sounds/outage.wav" id="9_72ido"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_xhmyn"]
bounce = 1.0
absorbent = true

[sub_resource type="AudioStreamPolyphonic" id="AudioStreamPolyphonic_72ido"]
polyphony = 4

[node name="Car" type="RigidBody2D" node_paths=PackedStringArray("joints", "wheels")]
texture_filter = 1
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_xhmyn")
center_of_mass_mode = 1
center_of_mass = Vector2(0, -4)
inertia = 150000.0
can_sleep = false
continuous_cd = 2
script = ExtResource("1_2gitb")
ending_path = "res://menu/ending.tscn"
joints = [NodePath("PinJoint2D"), NodePath("PinJoint2D2")]
wheels = [NodePath("PinJoint2D/Wheel"), NodePath("PinJoint2D2/Wheel")]
body_stats = ExtResource("2_xhmyn")
wheel_stats = ExtResource("3_xhmyn")
fall_thrust = 50000.0
end_speed_threshold = 100.0
end_movement_threshold = 0.01
end_time_threshold = 3.0
coyote_time = 0.05

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
rotation = -1.5707964

[node name="PinJoint2D" type="PinJoint2D" parent="."]
position = Vector2(-12, -4)
node_a = NodePath("..")
node_b = NodePath("Wheel")

[node name="Wheel" parent="PinJoint2D" instance=ExtResource("2_dxy33")]
can_sleep = false
continuous_cd = 2

[node name="PinJoint2D2" type="PinJoint2D" parent="."]
position = Vector2(12, -4)
node_a = NodePath("..")
node_b = NodePath("Wheel")

[node name="Wheel" parent="PinJoint2D2" instance=ExtResource("2_dxy33")]
can_sleep = false
continuous_cd = 2

[node name="Sounds" type="Node2D" parent="."]

[node name="Engine" type="AudioStreamPlayer2D" parent="Sounds"]
unique_name_in_owner = true
stream = ExtResource("4_jpe8o")
volume_db = -2.0
autoplay = true
bus = &"Sounds"
script = ExtResource("5_h3fet")
max_pitch = 4.0
pitch_up_speed = 4.0
pitch_down_speed = 1.0
sound_grace_frames = 4

[node name="Outage" type="AudioStreamPlayer2D" parent="Sounds"]
unique_name_in_owner = true
stream = ExtResource("9_72ido")
volume_db = 12.0
bus = &"Sounds"

[node name="Coin" type="AudioStreamPlayer2D" parent="Sounds"]
unique_name_in_owner = true
stream = SubResource("AudioStreamPolyphonic_72ido")
volume_db = -2.5
bus = &"Sounds"
